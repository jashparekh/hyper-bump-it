{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Hyper Bump It - 0.3.1","text":"<p>A version bumping tool.</p> <p><code>hyper-bump-it</code>'s features include:</p> <ul> <li>Updating the version to a new fully specified value</li> <li>Increasing the version base on a specific version part</li> <li>Optional Git integrations:<ul> <li>Commit changes</li> <li>Create a new branch or tag</li> <li>Push changes to a remote repository</li> </ul> </li> <li>Customizable search and replacement patterns</li> <li>Safe by default, but can be overridden:<ul> <li>Request confirmation before editing files</li> <li>Explicit configuration need to push changes</li> <li>Won't run if the current branch is not the default</li> <li>Won't run if there are unstaged changes</li> </ul> </li> <li>TOML configuration file (can be part of <code>pyproject.toml</code>)</li> </ul>"},{"location":"#examples","title":"Examples","text":"<p>This first example</p> <ul> <li>Updates to an explicit new version</li> <li>Updates multiple files that had lines matching the search pattern</li> <li>Commits those changes to a newly created branch</li> </ul> <pre><code>hyper-bump-it to 2.3.4\nExecution Plan:\nCreate branch bump_version_to_2.3.4\nSwitch to branch bump_version_to_2.3.4\nUpdate version in configuration file\nUpdate files\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 example/foo.txt \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n--- example/foo.txt\n+++ example/foo.txt\n@@ -1,3 +1,3 @@\n hello\n---1.2.3--abc\n+--2.3.4--abc\n world\n\n Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod.\n---1.2.3--edf\n+--2.3.4--edf\n Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 example/bar.txt \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n--- example/bar.txt\n+++ example/bar.txt\n@@ -1,3 +1,3 @@\n hello\n-more --1.2.3-- text\n+more --2.3.4-- text\n world\n\nCommit changes: Bump version: 1.2.3 \u2192 2.3.4\nSwitch to branch main\n\nDo you want to perform these actions? [y/n] (n): y\nCreating branch bump_version_to_2.3.4\nSwitching to branch bump_version_to_2.3.4\nUpdating version in configuration file\nUpdating files\nUpdating example/foo.txt\nUpdating example/bar.txt\nCommitting changes: Bump version: 1.2.3 \u2192 2.3.4\nSwitching to branch main\n</code></pre> <p>This second example</p> <ul> <li>Updates to the next minor version</li> <li>Updates multiple files that had lines matching the search pattern</li> <li>Commits those changes, tags the new commit, and pushes the changes to the remote repository</li> </ul> <pre><code>$ hyper-bump-it by minor\nExecution Plan:\nUpdate version in configuration file\nUpdate files\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 example/foo.txt \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n--- example/foo.txt\n+++ example/foo.txt\n@@ -1,7 +1,7 @@\n hello\n---1.2.3--abc\n+--1.3.0--abc\n world\n\n Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod.\n---1.2.3--edf\n+--1.3.0--edf\n Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 example/bar.txt \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n--- example/bar.txt\n+++ example/bar.txt\n@@ -1,3 +1,3 @@\n hello\n-more --1.2.3-- text\n+more --1.3.0-- text\n world\n\nCommit changes: Bump version: 1.2.3 \u2192 1.3.0\nTag commit: v1.3.0\nPush commit to origin with tag v1.3.0\n\nDo you want to perform these actions? [y/n] (n): y\nUpdating version in configuration file\nUpdating files\nUpdating example/foo.txt\nUpdating example/bar.txt\nCommitting changes: Bump version: 1.2.3 \u2192 1.3.0\nTagging commit: v1.3.0\nPushing commit to origin with tag v1.3.0\n</code></pre>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li><code>--patch</code> as command line options to display the planned changes as a patch instead of performing     any operations.</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Display planned changes as a unified diff instead of a custom format.</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>Configuration file line endings changed to system default when updating file.</li> </ul>"},{"location":"changelog/#031-2023-02-11","title":"[0.3.1] - 2023-02-11","text":""},{"location":"changelog/#fixed_1","title":"Fixed","text":"<ul> <li>Incorrectly display of planned change for lines that contained leading whitespace characters.</li> <li>Incorrectly display of text containing square brackets (<code>[</code>, <code>]</code>).</li> <li>Inconsistent display of file and directory paths (absolute vs relative path).</li> <li>Crash when format pattern contained an integer key name or no key name.</li> <li>Inconsistent colors of displayed text.</li> <li>Minor typos in displayed text.</li> </ul>"},{"location":"changelog/#030-2023-01-26","title":"[0.3.0] - 2023-01-26","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Ability to limit allowed starting branch.</li> <li>Can be run as a module in addition to the entrypoint script.</li> </ul>"},{"location":"changelog/#fixed_2","title":"Fixed","text":"<ul> <li>Value of <code>hyper_bump_it.__version__</code>.</li> </ul>"},{"location":"changelog/#internal","title":"Internal","text":"<ul> <li>Use <code>hyper-bump-it</code> to manage the version of the project.</li> <li>Automate the release process of new versions.</li> <li>Reorganize internal modules under a single internal sub-module.</li> <li>Remove dependency on <code>semantic-version</code>.</li> </ul>"},{"location":"changelog/#020-2023-01-11","title":"[0.2.0] - 2023-01-11","text":""},{"location":"changelog/#added_2","title":"Added","text":"<ul> <li>Controls related to the interactive confirmation prompt<ul> <li><code>show_confirm_prompt</code> in configuration file can explicitly enable (default) or disable the     prompt.</li> <li><code>-y</code> &amp; <code>--yes</code> as command line options to disable the prompt.</li> <li><code>--interactive</code> as command line options to explicitly enable the prompt.</li> <li><code>-n</code> &amp; <code>--no</code> command line options as aliases for <code>--dry-run</code>.</li> </ul> </li> <li>Command line command to initialize a project.</li> <li>Name of remote repository to displayed description for push action.</li> <li>Support for <code>rich</code> v13.x.</li> </ul>"},{"location":"changelog/#fixed_3","title":"Fixed","text":"<ul> <li>Crash when executing against a repository without any commits. A clear error message is displayed     instead.</li> <li>Unclear text displayed for proposed execution plan description when compared to text displayed     when executing the plan.</li> </ul>"},{"location":"changelog/#010-2022-12-16","title":"[0.1.0] - 2022-12-16","text":"<p>First functional release</p>"},{"location":"changelog/#001-2022-10-26","title":"[0.0.1] - 2022-10-26","text":"<p>Initial Release (not functional yet)</p>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#installation","title":"Installation","text":"<p>To install <code>hyper-bump-it</code>, simply run this simple command in your terminal of choice:</p> <pre><code>python -m pip install hyper-bump-it\n</code></pre>"},{"location":"getting-started/#initial-setup","title":"Initial Setup","text":"<p>Before <code>hyper-bump-it</code> can do any work, it needs to be configured. This configuration allows it to know which files should be operated on and how. A simple config file named <code>hyper-bump-it.toml</code> can be seen below:</p> <pre><code>[hyper-bump-it]\ncurrent_version = \"1.2.3\"\n\n[[hyper-bump-it.files]]\nfile_glob = \"version.txt\"\nsearch_format_pattern = \"version=\\\"{version}\\\"\"\n</code></pre> <ul> <li>Line 2: Specifies the current version of the project being configured. Edit this value to match     the version for the latest release of the project.</li> <li>Line 4-6: Define a single file definition.</li> <li>Line 5: Specifies the name of a file to be updated.</li> <li>Line 6: Specifies the text to look for in that file and replace with the new version.</li> </ul>"},{"location":"getting-started/#automated-initialization","title":"Automated Initialization","text":"<p>To help users start using <code>hyper-bump-it</code> for the first time, the <code>init</code> command is provided to help initialize the configuration file. The default mode of operation for this command is to show a series of interactive prompts that will allow for fully customizing the configuration. The following shows an example that changes format pattern used to create the commit message.</p> hyper-bump-it.tomlpyproject.toml <pre><code>$ hyper-bump-it init 1.2.3\nWhat part of configuration would you like to edit?\ngeneral - Top level settings that don't fit in a specific category\nfiles - File matching settings\ngit - Git integration settings\ndone - Stop editing and write out the configuration (default)\nEnter the option name: git\nWhat part of configuration would you like to edit?\nremote - Name of remote to use when pushing changes\ncommit - Format pattern to use for commit message\nbranch - Format pattern to use for branch name\ntag - Format pattern to use for tag name\nactions - Configure what Git actions should be performed\ndone - Stop editing the Git integration settings (default)\nEnter the option name: commit\nFormat patterns are used to generate text. The format pattern for commit message is currently set to: Bump version: {current_version} \u2192 {new_version} (the default)\nEnter a new format pattern or leave it blank to keep the value: Bump to version: {current_version}\nWhat part of configuration would you like to edit?\nremote - Name of remote to use when pushing changes\ncommit - Format pattern to use for commit message\nbranch - Format pattern to use for branch name\ntag - Format pattern to use for tag name\nactions - Configure what Git actions should be performed\ndone - Stop editing the Git integration settings (default)\nEnter the option name: done\nWhat part of configuration would you like to edit?\ngeneral - Top level settings that don't fit in a specific category\nfiles - File matching settings\ngit - Git integration settings\ndone - Stop editing and write out the configuration (default)\nEnter the option name: done\n\n$ cat hyper-bump-it.toml \n[hyper-bump-it]\ncurrent_version = \"1.2.3\"\n[[hyper-bump-it.files]]\nfile_glob = \"version.txt\"\n\n[hyper-bump-it.git]\ncommit_format_pattern = \"Bump to version: {current_version}\"\n</code></pre> <pre><code>$ hyper-bump-it init --pyproject 1.2.3\nWhat part of configuration would you like to edit?\ngeneral - Top level settings that don't fit in a specific category\nfiles - File matching settings\ngit - Git integration settings\ndone - Stop editing and write out the configuration (default)\nEnter the option name: git\nWhat part of configuration would you like to edit?\nremote - Name of remote to use when pushing changes\ncommit - Format pattern to use for commit message\nbranch - Format pattern to use for branch name\ntag - Format pattern to use for tag name\nactions - Configure what Git actions should be performed\ndone - Stop editing the Git integration settings (default)\nEnter the option name: commit\nFormat patterns are used to generate text. The format pattern for commit message is currently set to: Bump version: {current_version} \u2192 {new_version} (the default)\nEnter a new format pattern or leave it blank to keep the value: Bump to version: {current_version}\nWhat part of configuration would you like to edit?\nremote - Name of remote to use when pushing changes\ncommit - Format pattern to use for commit message\nbranch - Format pattern to use for branch name\ntag - Format pattern to use for tag name\nactions - Configure what Git actions should be performed\ndone - Stop editing the Git integration settings (default)\nEnter the option name: done\nWhat part of configuration would you like to edit?\ngeneral - Top level settings that don't fit in a specific category\nfiles - File matching settings\ngit - Git integration settings\ndone - Stop editing and write out the configuration (default)\nEnter the option name: done\n\n$ cat pyproject.toml\n[tool.other]\nfoo = \"hello world\"\n[tool.hyper-bump-it]\ncurrent_version = \"1.2.3\"\n[[tool.hyper-bump-it.files]]\nfile_glob = \"version.txt\"\n\n[tool.hyper-bump-it.git]\ncommit_format_pattern = \"Bump to version: {current_version}\"\n</code></pre> <p>There is an alternate mode accessed by providing the <code>--non-interactive</code> option. This will write out the configuration based only on values specified with command line options. The following shows the most basic form of this mode.</p> hyper-bump-it.tomlpyproject.toml <pre><code>$ hyper-bump-it init --non-interactive 1.2.3\nNon-interactive mode: A sample configuration will be written that will need manual edits.\n$ cat hyper-bump-it.toml\n[hyper-bump-it]\ncurrent_version = \"1.2.3\"\n[[hyper-bump-it.files]]\nfile_glob = \"version.txt\"\n</code></pre> <pre><code>$ hyper-bump-it init --non-interactive --pyproject 1.2.3\nNon-interactive mode: A sample configuration will be written that will need manual edits.\n$ cat pyproject.toml\n[tool.other]\nfoo = \"hello world\"\n[tool.hyper-bump-it]\ncurrent_version = \"1.2.3\"\n[[tool.hyper-bump-it.files]]\nfile_glob = \"version.txt\"\n</code></pre> <p>There are many more options that can be used to further customize the configuration, when using this mode. <code>hyper-bump-it init --help</code> will show the options not covered here.</p> <p>Tip</p> <p>See the configuration page for how to utilize <code>pyproject.toml</code> instead of a dedicated configuration file.</p>"},{"location":"getting-started/#example-executions","title":"Example Executions","text":"<p>Using the configuration shown above, lets see how <code>hyper-bump-it</code> runs.</p> <pre><code>$ hyper-bump-it to 2.3.4\nExecution Plan:\nUpdate version in configuration file\nUpdate files\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 version.txt \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n--- version.txt\n+++ version.txt\n@@ -1,3 +1,3 @@\n hello\n-version=\"1.2.3\"\n+version=\"2.3.4\"\n world\n\nCommit changes: Bump version: 1.2.3 \u2192 2.3.4\n\nDo you want to perform these actions? [y/n] (n): y\nUpdating version in configuration file\nUpdating files\nUpdating version.txt\nCommitting changes: Bump version: 1.2.3 \u2192 2.3.4\n</code></pre> <p><code>hyper-bump-it</code> finds the file with the version text and displays the changes it plans to make. After the user confirms the change, the program continues with editing the files.</p> <p>Included in the execution plan is committing the changes to the local <code>git</code> checkout. The example configuration file did not specify any specific options, so <code>hyper-bump-it</code> defaulted to simply committing the changes.</p> <p>In addition to updating the version to a specific value, <code>hyper-bump-it</code> can also do version increments. The following example show <code>hyper-bump-it</code> updating the version, from the original state, to the next minor version.</p> <pre><code>$ hyper-bump-it by minor\nUpdating version in configuration file\nUpdate files\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 version.txt \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n--- version.txt\n+++ version.txt\n@@ -1,3 +1,3 @@\n hello\n-version=\"1.2.3\"\n+version=\"1.3.0\"\n world\n\nCommit changes: Bump version: 1.3.0 \u2192 1.4.0\n\nDo you want to perform these actions? [y/n] (n): y\nUpdating version in configuration file\nUpdate files\nUpdating version.txt\nCommitting changes: Bump version: 1.3.0 \u2192 .1.4.0\n</code></pre>"},{"location":"getting-started/#whats-next","title":"What's Next?","text":"<p>Read about all the configuration options for a more detailed description of how to get <code>hyper-bump-it</code> to work best for a specific project.</p> <p>Read about how <code>hyper-bump-it</code> can integrate with <code>git</code> to learn more about how to automate things like creating a branch, pushing a change, and creating a tag.</p> <p>Read about how format patterns can be used to customize how text is matched and updated.</p>"},{"location":"usage-guide/configuration/","title":"Configuration","text":"<p><code>hyper-bump-it</code> is configured using a file in the TOML format. The default name for this file is <code>hyper-bump-it.toml</code> and it is expected to be in the root directory of the project. The command line interface (CLI) allows specifying an alternate path for this file.</p> <p>pyproject.toml Support</p> <p>For Python projects, <code>pyproject.toml</code> is a standard file that can contain configuration information for multiple different tools. <code>hyper-bump-it</code> also supports reading the configuration from this file. This will only be checked for if <code>hyper-bump-it.toml</code> is not found and the CLI did not specify an alternate path.</p>"},{"location":"usage-guide/configuration/#configuration-file","title":"Configuration File","text":"<p>All configuration sections are rooted under the <code>hyper-bump-it</code> table. Most settings have reasonable defaults, so the following is a functional configuration.</p> <p>pyproject.toml Support</p> <p>When using <code>pyproject.toml</code>, configuration sections are rooted under the <code>tool.hyper-bump-it</code> table instead of simply <code>hyper-bump-it</code>.</p> hyper-bump-it.tomlpyproject.toml <pre><code>[hyper-bump-it]\ncurrent_version = \"1.2.3\"\n\n[[hyper-bump-it.files]]\nfile_glob = \"*.txt\"\n</code></pre> <pre><code>[tool.hyper-bump-it]\ncurrent_version = \"1.2.3\"\n\n[[tool.hyper-bump-it.files]]\nfile_glob = \"*.txt\"\n</code></pre>"},{"location":"usage-guide/configuration/#top-level-table","title":"Top Level Table","text":"<p>There are a few fields that can be specified as part of the top level table.</p> <p>The most common is the <code>current_version</code> field, which contains the current version. How this is used and the alternative option are discussed in a latter section.</p> <p>The other optional field is <code>show_confirm_prompt</code>. If this field is not specified (default) or set to <code>true</code>, <code>hyper-bump-it</code> will prompt the user to confirm the changes described in the execution plan before performing the actions. When set to <code>false</code>, the prompt will not be displayed. Instead, the actions will be immediately performed.</p> <p>The following is an example configuration which disables the confirmation prompt.</p> hyper-bump-it.tomlpyproject.toml <pre><code>[hyper-bump-it]\ncurrent_version = \"1.2.3\"\nshow_confirm_prompt = false\n\n[[hyper-bump-it.files]]\nfile_glob = \"*.txt\"\n</code></pre> <pre><code>[tool.hyper-bump-it]\ncurrent_version = \"1.2.3\"\nshow_confirm_prompt = false\n\n[[tool.hyper-bump-it.files]]\nfile_glob = \"*.txt\"\n</code></pre>"},{"location":"usage-guide/configuration/#files","title":"Files","text":"<p>The most important part of the configuration is the list of file definitions. This is how <code>hyper-bump-it</code> knows which files should be updated and how that update process should operate. There must be at least one file definition.</p> <p>The only field that each file definition is required to have is that <code>file_glob</code> field. This tells <code>hyper-bump-it</code> which files should be updated. This can be an explicit file name, but glob patterns are also supported. Using a glob pattern allows for a single file definition to be used to specify how multiple files should be updated. These file paths should be relative to the project root.</p> <p>In addition, <code>search_format_pattern</code> and <code>replace_format_pattern</code> fields can be included in a file definition. The <code>search_format_pattern</code> specifies the text to look for in each file matched by <code>file_glob</code>. While the <code>replace_format_pattern</code> specifies the text to write back to the file in place of the text that was searched for. There is a dedicated page that discusses format patterns in more detail.</p> <p>If <code>search_format_pattern</code> is not specified, the default value of <code>\"{version}\"</code> is used. If <code>replace_format_pattern</code> is not specified, the value of <code>search_format_pattern</code> is used.</p> <p>There is an additional optional field named <code>keystone</code>, this is discussed in a latter section.</p> <p>The following is an example configuration which has two file definitions that both customize the <code>search_format_pattern</code>.</p> hyper-bump-it.tomlpyproject.toml <pre><code>[hyper-bump-it]\ncurrent_version = \"1.2.3\"\n\n[[hyper-bump-it.files]]\nfile_glob = \"*.txt\"\nsearch_format_pattern = \"version={version}\"\n\n[[hyper-bump-it.files]]\nfile_glob = \"index.md\"\nsearch_format_pattern = \"My Project - {major}.{minor}\"\n</code></pre> <pre><code>[tool.hyper-bump-it]\ncurrent_version = \"1.2.3\"\n\n[[tool.hyper-bump-it.files]]\nfile_glob = \"*.txt\"\nsearch_format_pattern = \"version={version}\"\n\n[[tool.hyper-bump-it.files]]\nfile_glob = \"index.md\"\nsearch_format_pattern = \"My Project - {major}.{minor}\"\n</code></pre>"},{"location":"usage-guide/configuration/#git","title":"Git","text":"<p>The <code>git</code> integration is configured within the dedicated sub-tables, but they are completely optional.</p>"},{"location":"usage-guide/configuration/#actions","title":"Actions","text":"<p>There are three types of <code>git</code> actions that can be performed: <code>commit</code>, <code>branch</code>, and <code>tag</code>. Each of these fields can have one of three values: <code>\"skip\"</code>, <code>\"create\"</code>, or <code>\"create-and-push\"</code>. There is a dedicated section that discusses these git actions in more detail.</p> <p>To ensure changes are not accidentally published, none of the fields default to <code>\"create-and-push\"</code>. If <code>commit</code> is not specified, the default value of <code>\"create\"</code> is used. If <code>brnach</code> is not specified, the default value of <code>\"skip\"</code> is used. If <code>tag</code> is not specified, the default value of <code>\"skip\"</code> is used.</p>"},{"location":"usage-guide/configuration/#allowed-initial-branches","title":"Allowed Initial Branches","text":"<p>Further safety concerns can be addressed by limiting which branches <code>hypber-bump-it</code> will execute on. By default, only <code>main</code> and <code>master</code> are allowed. <code>allowed_initial_branches</code>can be used to customize the set of allowed branches. Explicitly using an empty list will disable this functionality. If you want to allow additional branches in addition to the defaults, <code>extend_allowed_initial_branches</code> can be used without needing to explicitly re-list the defaults.</p>"},{"location":"usage-guide/configuration/#customize-operations","title":"Customize Operations","text":"<p>There are a few fields that can be used to customize how these actions operate.</p> <ul> <li><code>remote</code> specifies the name of remote repository to use as the destination for push operations.     If not specified, the default value of <code>\"origin\"</code> is used.</li> <li><code>commit_format_pattern</code> is a format pattern used to produce the message for     the commit. If not specified, the default value of     <code>\"Bump version: {current_version} \u2192 {new_version}\"</code> is used.</li> <li><code>branch_format_pattern</code> is a format pattern used to produce the name of the     branch. If not specified, the default value of, the default value of     <code>\"bump_version_to_{new_version}\"</code> is used.</li> <li><code>tag_format_pattern</code> is a format pattern used to produce the name of the tag.     If not specified, the default value of, the default value of <code>\"v{new_version}\"</code> is used.</li> </ul>"},{"location":"usage-guide/configuration/#example","title":"Example","text":"<p>The following is an example configuration which creates a commit on a new branch that is pushed to the \"upstream\" remote. Additionally, the format patterns for the commit message and branch names are customized.</p> hyper-bump-it.tomlpyproject.toml <pre><code>[hyper-bump-it]\ncurrent_version = \"1.2.3\"\n\n[hyper-bump-it.git]\nremote = \"upstream\"\ncommit_format_pattern = \"Bump version to {new_version}\"\nbranch_format_pattern = \"bump_to_{new_version}\"\n\n[hyper-bump-it.git.actions]\ncommit = \"create-and-push\"\nbranch = \"create-and-push\"\n\n[[hyper-bump-it.files]]\nfile_glob = \"*.txt\"\n</code></pre> <pre><code>[tool.hyper-bump-it]\ncurrent_version = \"1.2.3\"\n\n[tool.hyper-bump-it.git]\nremote = \"upstream\"\ncommit_format_pattern = \"Bump version to {new_version}\"\nbranch_format_pattern = \"bump_to_{new_version}\"\n\n[tool.hyper-bump-it.git.actions]\ncommit = \"create-and-push\"\nbranch = \"create-and-push\"\n\n[[tool.hyper-bump-it.files]]\nfile_glob = \"*.txt\"\n</code></pre>"},{"location":"usage-guide/configuration/#current-version","title":"Current Version","text":"<p>By default, the current version is explicitly recorded in the configuration file using the <code>current_version</code> field. As a result, this means that each time <code>hyper-bump-it</code> is used to change the version number, that configuration file will also change.</p> <p>For some, this behavior might not be desirable. Most projects already have a that acts as the authoritative source for the software version when the release artifact is generated. <code>hyper-bump-it</code> allows projects to indicate this file with the <code>keystone</code> setting as part of a file table.</p> <p>The following is an example configuration has a single file definitions, which is a keystone file. Default values are used for all other fields.</p> hyper-bump-it.tomlpyproject.toml <pre><code>[[hyper-bump-it.files]]\nfile_glob = \"version.txt\"\nkeystone = true\n</code></pre> <pre><code>[[tool.hyper-bump-it.files]]\nfile_glob = \"version.txt\"\nkeystone = true\n</code></pre> <p>Note</p> <p>Since <code>current_version</code> is not used when using a keystone file, the top level table can be  omitted.</p> <p>The <code>search_format_pattern</code> will be used to parse the specified file to discover the current version.</p> <p>With this functionality enabled, there are a few restrictions:</p> <ul> <li>The configuration file must not specify the <code>current_version</code> field.</li> <li>Specifying a glob pattern instead of an explicit file name for <code>file_glob</code> is still supported.     However, it must only match a single file.</li> <li>The <code>search_format_pattern</code> can contain any of the supported keys. However,     it is important to understand how the pattern is processed.</li> </ul>"},{"location":"usage-guide/format-patterns/","title":"Format Patterns","text":"<p>A format pattern is a string provided to <code>hyper-bump-it</code> that goes through a text formatting process before it is used. This is done using Python's format string syntax. While the link covers the full syntax, the key point is that values are referenced by enclosing  the name in curly braces (positional references are not supported). Text outside the curly braces will be left unaltered. If you need to include a brace character in the text, it can be escaped by doubling the brace character (<code>{{</code> or <code>}}</code>). As a basic example, if the current version is <code>1.2.3</code> and the new version is <code>4.5.6</code></p> <pre><code>\"From {current_version} to {new_major}.{new_minor} {{new_major}}\"\n</code></pre> <p>would become</p> <pre><code>\"From 1.2.3 to 4.5 {new_major}\"\n</code></pre>"},{"location":"usage-guide/format-patterns/#supported-keys","title":"Supported Keys","text":""},{"location":"usage-guide/format-patterns/#version-keys","title":"Version Keys","text":"Name Description Type current_version Full current version <code>Version</code>1 current_major Major part of current version <code>int</code> current_minor Minor part of current version <code>int</code> current_patch Patch part of current version <code>int</code> current_prerelease Pre-release part of current version 2 <code>str</code> current_build Build part of current version 2 <code>str</code> new_version Full new version <code>Version</code> 1 new_major Major part of new version <code>int</code> new_minor Minor part of new version <code>int</code> new_patch Patch part of new version <code>int</code> new_prerelease Pre-release part of new version 2 <code>str</code> new_build Build part of new version 2 <code>str</code>"},{"location":"usage-guide/format-patterns/#general-context-keys","title":"General Context Keys","text":"<p>When a format pattern is being used as a search or replacement pattern, there are an additional set of keys that may be used. Depending on the context, each key acts as an alias for one of the keys listed above.</p> Name Alias For (Search) Alias For (Replace) version current_version new_version major current_major new_major minor current_minor new_minor patch current_patch new_patch prerelease current_prerelease new_prerelease build current_build new_build <p>As a basic example, if the current version is <code>1.2.3</code> and the new version is <code>4.5.6</code> and the format pattern is <code>\"version='{version}'\"</code>.</p> <p>When used as a search pattern it would become</p> <pre><code>\"version='1.2.3'\"\n</code></pre> <p>But when used as a replacement pattern it would become</p> <pre><code>\"version='4.5.6'\"\n</code></pre> <p>It is very common that the only differences between the search and replacement format patterns is which version value they are referencing. These general context keys can be used for these cases to reduce duplication in the configuration. (See File Configuration)</p>"},{"location":"usage-guide/format-patterns/#helper-keys","title":"Helper Keys","text":"<p>So far, all the supported keys have been directly related to the version information for a specific execution. However, <code>hyper-bump-it</code> is not limited to those type of values. The following are also supported.</p> Name Description Type today Current date <code>datetime.date</code>3"},{"location":"usage-guide/format-patterns/#keystone-file-considerations","title":"Keystone File Considerations","text":"<p>When utilizing the keystone file functionality, <code>hyper-bump-it</code> converts the search format pattern into a regular expression that can be used to parse the current version from the file.</p>"},{"location":"usage-guide/format-patterns/#key-precedence","title":"Key Precedence","text":"<p>General context keys take precedence over the explicit version keys. As an example, if the search format string was <code>\"{version} - {current_version}\"</code>, only <code>version</code> would be used.</p> <p>If the search format string contains <code>version</code> or <code>current_version</code>, no other keys will be used.</p>"},{"location":"usage-guide/format-patterns/#limitations","title":"Limitations","text":"<p>This conversion process imposes limitations on the search format pattern that can be used for a keystone file. The most basic limitation is that if the search format pattern does not contain <code>version</code> or <code>current_version</code>, the format pattern must contain keys to capture the major, minor and patch part of the version.</p> <p>Before getting into the specifics, format patterns that only use basic name only references (as demonstrated earlier on this page) are fully supported.</p> <ul> <li>Attribute access and element indexes are not supported.</li> <li>Conversion flags are ignored.</li> <li>Format specifications are only supported for <code>today</code>. Furthermore, the only     supported specifications are the date specific format code. Within that     set, codes that are dependent on the machine's locale are not supported.</li> </ul> <ol> <li> <p><code>Version</code> is equivalent to <pre><code>@dataclass\nclass Version:\n    major: int\n    minor: int\n    patch: int\n    prerelease: tuple[str, ...]\n    build: tuple[str, ...]\n</code></pre> \u21a9\u21a9</p> </li> <li> <p>A period delimited string of each part of the value. If the version does not contain this value, the result will be an empty string.\u00a0\u21a9\u21a9\u21a9\u21a9</p> </li> <li> <p>The date type supports defaults to the form of <code>YYYY-MM-DD</code>. This can be customized using formatting codes.\u00a0\u21a9</p> </li> </ol>"},{"location":"usage-guide/git-integration/","title":"Git Integration","text":"<p>In addition to updating a specified set of files, <code>hyper-bump-it</code> can interact with the projects version control system. This functionality will automate some of the action that would need to be performed manually after updating files.</p>"},{"location":"usage-guide/git-integration/#requirements","title":"Requirements","text":"<p><code>hyper-bump-it</code> depends on the <code>git</code> executable to be installed and available on the system path. (GitPython is used under the covers to interact with <code>git</code>).</p> <p>The local checkout of the project is expected to have the <code>.git/</code> directory at the same level as the project root.</p> <p>Tip</p> <p>These requirements are only enforced when <code>hyper-bump-it</code> is configured to perform <code>git</code> actions. When all of the actions are set to <code>\"skip\"</code>, the <code>git</code> funcitonality will not be initialized.</p>"},{"location":"usage-guide/git-integration/#actions","title":"Actions","text":"<p>There are three types of <code>git</code> actions that can be performed: commit, branch, and tag.</p> <ul> <li>The commit action is the most basic. It is the process of creating a new commit that contains the     files that were updated by <code>hyper-bump-it</code>.</li> <li>The branch action can be used to augment the commit action. When used, a new branch is created      and the new commit is added to that new branch instead of the branch that was active when     <code>hyper-bump-it</code> started executing.</li> <li>The tag action can be used to as a step following the commit action. When used, it creates a new     tag that points to the new commit.</li> </ul>"},{"location":"usage-guide/git-integration/#valid-action-states","title":"Valid action states","text":"<p>Each of the git operations can be configured to be <code>\"skip\"</code>, <code>\"create\"</code>, or <code>\"create-ane-push\"</code>. However, many of the combinations that are possible are not allowed because they would require a result that is not possible.</p> <p>There are a few basic rules:</p> <ul> <li>If the files are being edited without creating a commit (commit action is set to <code>\"skip\"</code>), branch     and tag must also be set to <code>\"skip\"</code>.</li> <li>If a commit is being created, but not pushed (commit action is set to <code>\"create\"</code>), branch and tag     must not be set to <code>\"create-and-push\"</code>.</li> <li>If a commit is being created &amp; pushed (commit action is set to <code>\"create-and-push\"</code>), branch     must not be  set to <code>\"create\"</code>.</li> </ul>"},{"location":"usage-guide/git-integration/#allowed-initial-branches","title":"Allowed Initial Branches","text":"<p>Accidentally performing a version bump from a feature branch could result in code being released that was not ready for the public. To help prevent this from occurring, <code>hyper-bump-it</code> checks the current branch at startup to check that it is an allowed branch. By default, <code>main</code> and <code>master</code> are the only allowed initial branches. Additional branches can be added with <code>extend_allowed_initial_branches</code>. This functionality can be disabled by setting <code>allowed-initial-branches</code> to an empty list.</p>"}]}